## 단어정리
/ DB 단어정리
 회복과 병행제어
트랜잭션 : 데이터베잉스 연산들을 모아놓은것 / 장애가 발생했을 때 데이터를 복구하는 작업의 단위
원자성 : all or nothing, 연산 중 일부만 처리하는 것이 아닌 완료하지 못했다면 모두 취소하고 이전상태로 되돌려야 한다. 회복기능이 필요
일관성 : 트랜잭션이 수행되는 과정에서는 일시적으로 일관되지 않을수 있지만, 완료된 후에는 데이터베이스가 일관된 상태를 유지해야 한다. 병행제어 필요
격리성 : 트랜젝션이 수행되는 과정에서는 다른 트랜젝션이 접근할 수 없도록 트랜잭션의 격리성을 보장해야한다. 동시수행하는 것아 아닌 순서에 따라 행해지도록 변경해야한다. 병행제어 필요
지속성 : 장애가 발생해도 데이터베이스에 그대로 남아있어야 한다. 회복기능 필요

commit 연산 : 트랜젝션수행이 성공적으로 완료됨.
rollback 연산 : 트랜젝션 수행이 실패했음을 선언., 지금까지 실행한 연산결과를 취소하고 트랜젝션 수행 전의 데이터베이스 상태도 되돌림

트랜젝션의 5가지 상태 : 
활동
부분완료, 완료 (commit 연산을 실행 상태를 완료)
실패, 철회(rollback 연산을 실행 완료한 상태)

![image](https://github.com/user-attachments/assets/d20b99f1-437a-4634-92bd-eb6dbc4b48b0)
응용프로그램 <--- read <-- 메인메모리(버퍼블록) <-- input(A) <-- 디스크(디스크블록)
응용프로그램 --> write --> 메인메모리(버퍼블록) --> output(B) --> 디스크(디스크블록)

회복을 위한 연산
- 로그회복 기법
 즉시 갱신 회복기법 START은 있고 COMMMIT 없을때 undo, start-commit 모두 존재하는경우, redo(가장 최근에 저장한 데이터베이스 복사본을 가져온 후 로그를 이용해 복사본이 만들어진 이후에 실해된 모든 변경 연산을 재실행 한다.)
 지연 갱신 회복기겁 : 트랜잭션이 수행되는 동안 데이터 변경 연산의 결과를 데이터베이스에 즉시 반영하지 않고 로그파일에만 기록해두었다가, 트랜젝션이 부분완료된 후에 로그에 기록된 내용을 데이터베이스에 한번에 반영)
-검사 시점 회복 기법 : 로그회복과 같은 방법으로 로그 기록을 이용하되, 일정 시간 간격으로 검사시점(checkpoint)을 기록해둔다. 불필요한 회복 작업을 수행하지 않아 데이터베에스회복 시간이 단축된다는 장점이 있다.
-미디어 회복 기법 : 디스크는 휘발성인 메모리보다 장애 발생이 드물지만, 헤더 이상으로 장애가 발생할 수 있다. 데이터베이스를 일정주기마다 다른 안전한 장ㅇ치에 복사해두는 덤프를 사용
로그란? 데이터베이스에서 변경 연산이 실행될 때마다 데이터를 변경하기 이전 값과 변경한 이후의 값을 별도의 파일에 기록하는 방법

병행제어
병행 수행을 특별한 제어 없이 진행하면 갱신분실, 모순성, 연쇄복귀 등 문제가 발생할 수 있는 상황이 있다. 
트랜젝션 스케줄
인터리빙 방식 : 트랜젝션 연산들이 차례로 번갈아 수행되는 방식(비직렬 스케줄)
직렬스케줄 : 트랜젝션 연산이들이 차례로 번갈아 수행되지 않고 트랜젝션별로 연산들을 순차적으로 실행시키는것 
직렬가능스케줄 : 직렬스케줄과 다르며 직렬가능 스케줄은 비직렬 스케줄을 방식을 이요하여 여러 트렌젝션을 병행수행하면도 정확한 결과를 얻을 수 있다, 비직렬을 찾아내는것은 어렵고 간단한 일이 아니기 때문에 직렬 가능성을 보장하는 병행 제어 기법을 사용한다.

병행제어 기법
로팅 기법 : 한 트랜젝션이 먼저 접근한 데이터에 대한 연산을 모두 마칠때까지, 해당 데이터에 다른 트랜젝션이 접근하지 못하도록 상호배제하여 직렬가능성을 보장하는것. lock 과 uclock 2개의 연산을 이용
read와 write 전에 반드시 lock 연산이 실행되어야 한다. 로킹 단위를 생각해서 데이터베이스 단위는 단위는크기만 병행성은 낮아지지만 제어하기 쉽고, 속성단위는 병행성은 높아지지만 제어하기가 어렵다.
2단계 로킹 규약(시점에 대한 고민)
확장 단계 : 트랜젝션이 lock 연산만 수행할 수 있고, unlock 연산은 실행할 수 없는 단계
축소 단계 : 트랜젝션이 unlock 연산만 수행할 수 있고, lock 연산은 수행할 수 없는 단계 
 lock 연산을 끝낸 후에 unlock 연산을 진행할 수 있도록 배치한다. deadlock(교착상태) : T1이 T2가 unlock 연산을 기다리기만하고, T2는 T1가 unlock연산을 기다리기만 해서 교착상태가 되는것

데이터웨어하우스
사용자가 원하는 데이터를 빠르게 검색하여 제공하는 기능이 무엇보다 중요해져 의사결졍 또는 용도에 따라 데이터를 미리 추출하여, 이를 원하는 형태로 변환하고 통합된 읽기 전용의 데이터 저장소.
각시점의 데이터를 스냅샷이라고 하며 과거와 현재 데이터를 함께 유지하는 경우가 많다. 
주체지향적(의사결정에 필요한 주제와 관련된 데이터만 유지), 통합된내용(서로다른 데이터베이스에서 추출한 내용 또는 타입이 다를때는 통합하여 저장하는 목적이 있다), 시간에따라 변하는 내용(시간적 관계 또는 동향분석목적)
비소멸성을 가진 내용(검색의 효율성을 고려하여 설계하는 경우 많음)

